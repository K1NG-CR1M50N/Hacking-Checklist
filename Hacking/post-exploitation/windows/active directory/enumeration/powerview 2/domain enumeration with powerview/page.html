<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Domain Enumeration with PowerView</title>
</head><body><b><u><div style="text-align: center"><span style="font-size: 20pt">Domain Enumeration with PowerView<br/>
<br/>
<br/>
</span></div><span style="font-size: 20pt"><div style="text-align: left">https://github.com/HarmJ0y/CheatSheets</div><div style="text-align: center"><br/>
</div><span style="font-size: 15pt"><br/>
</span></span></u></b><span style="font-size: 20pt"><span style="font-size: 15pt">First thing to do, copy the PowerView script into our Windows Machine (in this case THEPUNISHER)<br/>
Remember to disable the Antivirus &amp; Threat real-time protection.<br/>
<br/>
Next, execute the PowerShell bypassing Execution Policy<br/>
</span><img src="1.png" /><br/>
<br/>
<span style="font-size: 15pt">Now, time to execute the script:<br/>
</span><img src="1 2.png" /><u><b><br/>
</b></u><u><b><br/>
</b></u></span><span style="font-size: 15pt"><br/>
We can execute some scripts, like <b>"Get-NetDomain"<br/>
</b>To get all the info about this machine Domain and more<br/>
<img src="1 3.png" /><br/>
<br/>
<br/>
Or, if we want to get info only about Domain Controllers:<br/>
The important value here is the IP Address of the Domain Controllers: we know where they are now!!<br/>
<img src="1 4.png" /><br/>
<br/>
<br/>
<br/>
We can obtain the Domain Policy:<br/>
We can access the Policy if we want to.<br/>
In the case of "System Access", we can discover that there is no lockout and more about password criteria!!!<br/>
<img src="1 5.png" /><br/>
<img src="2.png" /><br/>
<br/>
</span><br/>
<span style="font-size: 15pt">Another command we can use is <b>"Get-NetUser" (to, obviously, get users)<br/>
</b>It<b>&nbsp;</b>will output a long list of users with a lot of details<br/>
</span><img src="1 6.png" /><span style="font-size: 15pt"><br/>
</span><span style="font-size: 15pt"><br/>
<br/>
We can select only the lines we want (think of <b>"select"</b>&nbsp;like a <b>"grep") </b>for the <b>cn field:<br/>
</b></span><img src="1 7.png" /><br/>
<br/>
<br/>
<br/>
<span style="font-size: 15pt">We can know more about user Properties:<br/>
We can ue the "-Property" to match the property with the users<br/>
</span><img src="2 2.png" /><br/>
<br/>
<br/>
<img src="1 8.png" /><br/>
<br/>
<br/>
<br/>
<span style="font-size: 15pt">A good account to catch is someone with a lot of logins (<b>logonaccount</b>&nbsp;property):</span><br/>
<img src="1 9.png" /><br/>
<br/>
<br/>
<br/>
<span style="font-size: 15pt">This time we can search for Computers instead (or with -FullData option):<br/>
</span><img src="1 10.png" /><br/>
<br/>
<br/>
<br/>
<span style="font-size: 15pt">Or we can see Groups:<br/>
</span><img src="1 11.png" /><br/>
<br/>
<br/>
<br/>
<span style="font-size: 15pt">Obtain the Members of a selected group:<br/>
</span><img src="1 12.png" /><br/>
<br/>
<br/>
<br/>
<span style="font-size: 15pt">You can even locate where and what is shared!!!<br/>
</span><img src="1 13.png" /><br/>
<br/>
<br/>
<br/>
<span style="font-size: 15pt">Group Policies over there:<br/>
</span><img src="1 14.png" /><br/>
<br/>
<img src="1 15.png" /></body></html>