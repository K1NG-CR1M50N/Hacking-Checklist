<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Escalation via Weak File Permissions</title>
</head><body>We are looking for files with <b>write</b>&nbsp;/ <b>execute / read permissions that we shouldn't have.</b><br/>
<br/>
As an example, here we can read the passwd file (and that is ok)<br/>
but we can read the shadow file too (we should not be able to do that!)<br/>
<img src="shadow permission.png" /><br/>
<br/>
If we could modify the <b>/etc/passwd</b>&nbsp;file, we could <b>remove the "x" </b>from<br/>
root and <b>log without a password!<br/>
</b><b><br/>
Or you can change your id to root, or your group to root etc.<br/>
We can do a lot of things with the right permissions!<br/>
<br/>
<br/>
<br/>
</b>One thing we can do, with both <b>read</b>&nbsp;permissions,<br/>
we can <b>unshadow</b>&nbsp;and try to crack the files:<br/>
<img src="passwd and shadow.png" /><br/>
<br/>
unshadow simply substitute the "x" with the shadow file'passwords<br/>
<img src="unshadow.png" /><br/>
<br/>
<br/>
We can copy in a file only the users with hashes:<br/>
<img src="2 hashes.png" /><br/>
<br/>
<br/>
Once we got the hashes, we need to identify them and we can crack with hashcat:<br/>
(You can search trough CTRL+F)<br/>
<a href="https://hashcat.net/wiki/doku.php?id=example_hashes">https://hashcat.net/wiki/doku.php?id=example_hashes<br/>
</a><img src="hashcat hashes.png" /><br/>
<br/>
<br/>
Once we are done with that, we can use hashcat with the appropiate module (in this case, 1800)<br/>
&nbsp;<img src="hashcat1.png" /><br/>
</body></html>